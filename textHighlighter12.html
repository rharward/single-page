<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>title</title>

</head>

<body>
  <textarea id="quote" cols="150" rows="5" style="color: green">
      “Let us return for a moment to Lady Lovelace’s objection, which stated that the machine can only do what we tell it to do. One could say that a man can "inject" an idea into the machine, and that it will respond to a certain extent and then drop into quiescence, like a piano string struck by a hammer. Another simile would be an atomic pile of less than critical size: an injected idea is to correspond to a neutron entering the pile from without. Each such neutron will cause a certain disturbance which eventually dies away. If, however, the size of the pile is sufficiently increased, the disturbance caused by such an incoming neutron will very likely go on and on increasing until the whole pile is destroyed. Is there a corresponding phenomenon for minds, and is there one for machines? There does seem to be one for the human mind. The majority of them seem to be "sub critical," i.e. to correspond in this analogy to piles of sub-critical size. An idea presented to such a mind will on average give rise to less than one idea in reply. A smallish proportion are supercritical. An idea presented to such a mind may give rise to a whole "theory" consisting of secondary, tertiary and more remote ideas. Animals’ minds seem to be very definitely sub-critical. Adhering to this analogy we ask, "Can a machine be made to be super-critical?” 
      ― Alan Turing, Computing machinery and intelligence
    
    </textarea>

  <br>
  <button onclick="saveHighlight()">SAVE HIGHLIGHT</button>
  <button id="fileToLoad2" onclick="loadFileAsText()">LOAD TEXT</button>
  <button onclick="loadHighlight()">LOAD HIGHLIGHT</button>
  <button id="inputFileNameToSaveAs" onclick="saveText()">SAVE HIGHLIGHT TEXT</button><br>
  <input type="file" id="fileToLoad"><br>
  <div id="output"></div>




  <script>
    document.body.style.backgroundImage = "url('blueprint.jpg')";
    var globaltext = "";
    var quotearea = document.getElementById('quote')
    var output = document.getElementById('output')
    var quoteareaarray = [];
    quoteareaarray = quotearea.innerHTML.split('');
    text = "<ul>";
    text += quoteareaarray;
    text += "/ul>";


    quotearea.addEventListener('mouseup', function () {
      if (this.selectionStart != this.selectionEnd) { // check the user has selected some text inside field
        var selectedtext = this.value.substring(this.selectionStart, this.selectionEnd);
        globaltext = selectedtext;




        //  output.innerHTML = (selectedtext + " START = " + this.selectionStart + " END = " + this.selectionEnd + " ****** " + quoteareaarray + "  " + quoteareaarray.length)
      }
    }, false)

    function saveHighlight() {
      // text = "<ul>";
      // text += "YOU CLICKED ME"
      // text += "</ul>";
      // text += "<ul>";
      // text += "The highlighted section is:";
      // text += "</ul>";
      text = "<ul>";
      text += globaltext;
      text += "</ul>";
      output.innerHTML = text;
    };

    function loadFileAsText() {
      var fileToLoad = document.getElementById("fileToLoad").files[0];
      var fileReader = new FileReader();
      fileReader.onload = function (fileLoadedEvent) {
        var textFromFileLoaded = fileLoadedEvent.target.result;
        console.log(textFromFileLoaded);
        document.getElementById("quote").value = textFromFileLoaded;
      };
      fileReader.readAsText(fileToLoad, "UTF-8");
    }


    function saveText() {
      var textToWrite = document.getElementById("quote").value;
      var textFileAsBlob = new Blob([textToWrite], { type: 'text/plain' });
      var fileNameToSaveAs = document.getElementById("inputFileNameToSaveAs").value;

      var downloadLink = document.createElement("a");
      downloadLink.download = fileNameToSaveAs;
      downloadLink.innerHTML = "Download File";
      if (window.webkitURL != null) {
        // Chrome allows the link to be clicked
        // without actually adding it to the DOM.
        downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
      }
      else {
        // Firefox requires the link to be added to the DOM
        // before it can be clicked.
        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
        downloadLink.onclick = destroyClickedElement;
        downloadLink.style.display = "none";
        document.body.appendChild(downloadLink);
      }
      downloadLink.click();
    }
  </script>
</body>

</html>